{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "LAMMPS Optimize Run Parameters",
  "type": "object",
  "required": [
    "relax",
    "minimize",
    "units"
  ],
  "additionalProperties": false,
  "properties": {
    "lammps_version": {
      "description": "the version of lammps in date format, e.g 10 Nov 2015",
      "type": "string"
    },
    "units": {
      "description": "the unit system used",
      "type": "string",
      "enum": ["real", "nano", "metal", "electron", "micro", "si", "cgs"]
    },
    "relax": {
      "description": "parameters for the box/relax fix",
      "type": "object",
      "required": [
        "type",
        "pressure"
      ],
      "additionalProperties": false,
      "properties": {
        "type": {
          "description": "type of relaxation",
          "type": "string",
          "enum": [
            "iso",
            "aniso",
            "tri"
          ]
        },
        "pressure": {
          "description": "desired pressure (pressure units)",
          "type": "number"
        },
        "vmax": {
          "description": "max allowed volume change in one iteration (fraction)",
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "exclusiveMinimum": "true"
        },
        "nreset": {
          "description": "reset reference cell every this many minimizer iterations",
          "type": "integer",
          "minimum": 0,
          "exclusiveMinimum": "true"
        }
      }
    },
    "minimize": {
      "description": "parameters for the minimize command",
      "type": "object",
      "required": [
        "energy_tolerance",
        "force_tolerance",
        "max_iterations",
        "max_evaluations",
        "style"
      ],
      "additionalProperties": false,
      "properties": {
        "energy_tolerance": {
          "description": "stopping tolerance for energy (unitless)",
          "type": "number",
          "minimum": 0,
          "exclusiveMinimum": "true"
        },
        "force_tolerance": {
          "description": "stopping tolerance for force (force units)",
          "type": "number",
          "minimum": 0,
          "exclusiveMinimum": "true"
        },
        "max_iterations": {
          "description": "max iterations of minimizer",
          "type": "integer",
          "minimum": 0,
          "exclusiveMinimum": "true"
        },
        "max_evaluations": {
          "description": "max number of force/energy evaluations",
          "type": "integer",
          "minimum": 0,
          "exclusiveMinimum": "true"
        },
        "style": {
          "description": "minimization algorithm",
          "type": "string",
          "enum": [
            "cg",
            "sd"
          ]
        }
      }
    },
    "output_variables": {
      "description": "optimized output variables to record as attributes (see thermo_style)",
      "type": "array",
      "uniqueItems": true,
      "items": {
        "type": "string",
        "enum": [
          "step",
          "elapsed",
          "elaplong",
          "dt",
          "time",
          "cpu",
          "tpcpu",
          "spcpu",
          "cpuremain",
          "part",
          "timeremain",
          "atoms",
          "temp",
          "press",
          "pe",
          "ke",
          "etotal",
          "enthalpy",
          "evdwl",
          "ecoul",
          "epair",
          "ebond",
          "eangle",
          "edihed",
          "eimp",
          "emol",
          "elong",
          "etail",
          "vol",
          "density",
          "lx",
          "ly",
          "lz",
          "xlo",
          "xhi",
          "ylo",
          "yhi",
          "zlo",
          "zhi",
          "xy",
          "xz",
          "yz",
          "xlat",
          "ylat",
          "zlat",
          "bonds",
          "angles",
          "dihedrals",
          "impropers",
          "pxx",
          "pyy",
          "pzz",
          "pxy",
          "pxz",
          "pyz",
          "fmax",
          "fnorm",
          "nbuild",
          "ndanger",
          "cella",
          "cellb",
          "cellc",
          "cellalpha",
          "cellbeta",
          "cellgamma",
          "reax_eb",
          "reax_ea",
          "reax_elp",
          "reax_emol",
          "reax_ev",
          "reax_epen",
          "reax_ecoa",
          "reax_ehb",
          "reax_et",
          "reax_eco",
          "reax_ew",
          "reax_ep",
          "reax_efi",
          "reax_eqeq"
        ]
      }
    }
  }
}
